<!DOCTYPE html>
<html lang="en" lang="sr">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Elektronski dnevnik</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="css/main.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="js/main.js"></script>
</head>

<body>
    <main id="omotac">
        <h1>ELEKTRONSKI DNEVNIK</h1>
        <div id="omotacDva">
            <p>FORMULAR ZA PRIJAVU</p>
            <p id="greska" style="color: red"></p>
            <div class="nav justify-content-center nav-pills flex-column flex-md-row">
                <a class="nav-link active" href="#prof" data-toggle="tab">Profesori</a>
                <a class="nav-link" href="#rod" data-toggle="tab">Roditelji</a>
            </div>
            <div class="tab-content py-5">
                <div id="prof" class="tab-pane active">
                    <form action="strana1.html" target="_blank" onsubmit="return provera1()" method="post">
                        <div class="form-group">
                            <label for="korisnickoProf">Korisničko ime</label>
                            <input type="text" class="form-control" id="korisnickoProf"
                                placeholder="Vaše korisničko ime..." required>
                        </div>
                        <div class="form-group">
                            <label for="lozinkaProf">Lozinka</label>
                            <input type="password" class="form-control" id="lozinkaProf" placeholder="Vaša lozinka..."
                                required>
                        </div>
                        <button type="submit" class="btn btn-primary">Prijavi se</button>
                    </form>
                </div>
                <div id="rod" class="tab-pane fade">
                    <form action="strana2.html" target="_blank" onsubmit="return provera2()" method="post">
                        <div class="form-group">
                            <label for="korisnickoIme">Korisničko ime</label>
                            <input type="text" class="form-control" id="korisnickoIme"
                                placeholder="Vaše korisničko ime..." required>
                        </div>
                        <div class="form-group">
                            <label for="lozinka">Lozinka</label>
                            <input type="password" class="form-control" id="lozinka" placeholder="Vaša lozinka..."
                                required>
                        </div>
                        <button type="submit" class="btn btn-primary">Prijavi se</button>
                    </form>
                </div>
            </div>
        </div>
    </main>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="js/bootstrap.min.js"></script>
    <script>

        // provera korisnickog imena i lozinke za profesora
        function provera1() {
            return proveraProfesora() && proveraLozinkeProf();
        }
        function proveraProfesora() {
            var text = document.getElementById("korisnickoProf").value.toLowerCase();
            if (text == profesor.userName) {
                return true;
            }
            else {
                greska.innerHTML = "Pogrešno korisničko ime";
                return false;
            }
        }
        function proveraLozinkeProf() {
            var lozProf = document.getElementById("lozinkaProf").value;
            if (lozProf != profesor.password) {
                greska.innerHTML = "Pogrešna lozinka";
                return false;
            }
            return true;
        }
        // provera korisnickog imena i lozinke za roditelje
        function provera2() {
            return proveraImena() && proveraLozinke();
        }
        function proveraImena() {
            var text = document.getElementById("korisnickoIme").value.toLowerCase();
            var i = 0;
            do {
                if (text == korisnicko[i]) {
                    proveraLozinke(i);
                    return true;
                }
                i++;
            } while (i < korisnicko.length)
            greska.innerHTML = "Pogrešno korisničko ime";
            return false;
        }
        function proveraLozinke(i) {
            var loz = document.getElementById("lozinka").value;
            console.log(i);
            //console.log(lozinka[i]);
            if (loz != lozinka[i]) {
                greska.innerHTML = "Pogrešna lozinka";
                return false;
            }
            return true;
        }

    </script>
</body>

</html>